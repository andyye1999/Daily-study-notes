# Feedforward Selective Fixed-Filter Active Noise Control: Algorithm and Implementation

## 摘要
传统的实时有源噪声控制 (ANC) 通常采用自适应滤波 x 最小均方 (FxLMS) 算法来接近控制滤波器的最佳系数。然而，通常需要**长时间的训练**，并且感知到的降噪并不能立即实现。受实际实现的启发，我们提出了一种**选择性固定滤波器有源噪声控制（SFANC）算法**，该算法选择一个预训练的控制滤波器来快速衰减检测到的初级噪声。除了提高稳健性之外，复杂性分析表明 SFANC 似乎更有效。 SFANC 算法根据在**分区频域滤波器中实现的频带匹配方法**选择最合适的控制滤波器。通过仿真，SFANC 表现出令人满意的响应时间和稳态降噪性能，即使对于时变噪声和真正的非平稳干扰也是如此。

## 介绍
虽然 ANC 常用于降噪耳机  和现代汽车 ，但其在**更大的三维空间中的应用受到限制**。为了**有效衰减大空间中的宽带噪声，通常需要具有长控制滤波器和高采样率的多通道 ANC 。** 但这导致成本过高
因此，我们提出了一种实用的、计算效率高的策略来适应不同的主要噪声类型。这种方法今后将被称为选择性固定滤波器有源噪声控制 (SFANC)。 SFANC 算法采用频带匹配方法来匹配输入噪声频率模式与控制滤波器的频谱。与主要噪声特征匹配的预训练控制滤波器将被选为 ANC 系统的控制滤波器。这样，控制系统可以达到令人满意的降噪性能，而不需要很高的计算复杂度。此外，由于没有反馈，即使对于非平稳干扰，SFANC 也表现出可以说的高鲁棒性。

## 选择性固定滤波器有源噪声控制方法
在许多现实的操作环境中，主要和次要路径几乎不会随时间变化。
SFANC 方法分为两个阶段：(1) 离线预训练阶段，在实施前训练控制滤波器的数据库；(2) 在线控制阶段，通过最合适的控制滤波器减轻干扰，如图所示在图 1 中
![image](https://cdn.staticaly.com/gh/andyye1999/image-hosting@master/20220914/image.2vv36nqhaqg0.webp)

图1 SFANC 方法的处理块，其特点是根据常见的噪声类型和噪声路径推导一组控制滤波器的第一阶段。随后，选择性算法提取最接近的控制滤波器以实时滤除实际噪声

### 控制过滤器的离线预训练阶段
与传统的 ANC 方法相比，SFANC 包含一个初步训练阶段，如图 1 所示。在这个阶段，一系列测量或合成的噪声源用于训练。训练噪声首先通过真实或测量的主要路径过滤，从而产生相应的干扰。随后，自适应算法利用训练噪声和干扰来获得相应的最优滤波器组

### 在线控制：特征提取和控制过滤器选择
因此，很明显，与传统的 FxLMS 算法相比，选择不当的控制滤波器会产生较差的降噪性能。流行的机器学习或深度学习方法，例如卷积神经网络 (CNN) [29]，可以对传入的初级噪声进行分类，以匹配最合适的控制滤波器。然而，由于这些计算密集型分类方法增加了 SFANC 在线控制阶段的整体延迟，其实用性受到破坏。为了克服这个问题，以下部分使用**frequencybrand-match**方法进行滤波器选择，并提出了一种基于该方法的高效SFANC算法。

### FREQUENCY-BAND-MAT C H ALGORITHM FOR SFANC
SFANC 系统的挑战是为特定类型的初级噪声选择合适的控制滤波器。本节介绍一种频带匹配方法，该方法根据训练信号和实际初级噪声之间频谱内容的相似性来选择预训练滤波器。这里，频谱内容只涉及频带的中心频率和带宽。因此，初级噪声的频谱内容成为滤波器选择的关键特征。
图2显示了单通道前馈ANC系统，其中P(ω)和S(ω)分别表示主路径和次路径的传递函数，W(ω)表示控制滤波器的传递函数。为简单起见，假设参考信号是直接从噪声源获取的。
![image](https://cdn.staticaly.com/gh/andyye1999/image-hosting@master/20220914/image.7kul6pe5x5o0.webp)
图2 单通道前馈 ANC 框图。主要噪声干扰表示为 d(k)，残余误差信号 e(k) 是从控制区域的麦克风声学测量的。

### 提出的选择性固定滤波器有源噪声控制算法
SFANC采用梳状分区滤波器结构，控制滤波器的系数通过改进的**梳状分区频域自适应滤波器**（comb-PFDAF）算法获得。与其他频域自适应滤波器 (PFDAF)  相比，comb-PFDAF 显着降低了算法  中傅里叶变换的计算复杂度。


